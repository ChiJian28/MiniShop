# ğŸ” ç™»å½•åŠŸèƒ½è°ƒè¯•æ­¥éª¤

## é—®é¢˜æè¿°
ä½¿ç”¨ `admin/password` ç™»å½•åï¼Œæ²¡æœ‰è‡ªåŠ¨è·³è½¬åˆ°ç§’æ€é¡µé¢ã€‚

## è°ƒè¯•æ­¥éª¤

### 1. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·
- åœ¨ Chrome/Safari ä¸­æŒ‰ `F12` æˆ– `Cmd+Option+I`
- åˆ‡æ¢åˆ° **Console** æ ‡ç­¾é¡µ

### 2. è®¿é—®ç™»å½•é¡µé¢
- æ‰“å¼€ http://localhost:3000/login
- æŸ¥çœ‹ Console ä¸­æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯

### 3. å°è¯•ç™»å½•
- è¾“å…¥ç”¨æˆ·å: `admin`
- è¾“å…¥å¯†ç : `password`
- ç‚¹å‡»"ç™»å½•"æŒ‰é’®
- **è§‚å¯Ÿ Console è¾“å‡º**ï¼Œåº”è¯¥çœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹ä¿¡æ¯ï¼š

```
Attempting login with: {username: "admin", password: "password"}
Mock login attempt: {username: "admin", password: "password"}
Login successful: {code: 0, data: {â€¦}, message: "ç™»å½•æˆåŠŸ"}
Login response: {code: 0, data: {â€¦}, message: "ç™»å½•æˆåŠŸ"}
AuthContext login called: {newToken: "mock_jwt_token_1234567890", newUser: {â€¦}}
AuthContext: token stored in localStorage
AuthContext: user stored in localStorage
AuthContext: state updated {isAuthenticated: true, token: "mock_jwt_token_1234567890", user: {â€¦}}
Auth context updated with token: mock_jwt_token_1234567890
Auth context updated with user: {id: 1, username: "admin"}
Navigating to /seckill...
ProtectedRoute: {requireAuth: true, isAuthenticated: true, loading: false, pathname: "/seckill"}
ProtectedRoute: rendering children
```

### 4. æ£€æŸ¥å¯èƒ½çš„é—®é¢˜

#### é—®é¢˜1: Console æœ‰é”™è¯¯ä¿¡æ¯
- å¦‚æœçœ‹åˆ°çº¢è‰²é”™è¯¯ï¼Œå¤åˆ¶é”™è¯¯ä¿¡æ¯
- å¸¸è§é”™è¯¯ï¼š
  - `Cannot find module 'react-router-dom'` - éœ€è¦å®‰è£…ä¾èµ–
  - `useAuth must be used within an AuthProvider` - ç»„ä»¶å±‚çº§é—®é¢˜

#### é—®é¢˜2: ç™»å½•æˆåŠŸä½†æ²¡æœ‰è·³è½¬
- æ£€æŸ¥æ˜¯å¦çœ‹åˆ° `Navigating to /seckill...` æ—¥å¿—
- æ£€æŸ¥æ˜¯å¦çœ‹åˆ° `ProtectedRoute: rendering children` æ—¥å¿—
- å¦‚æœæ²¡æœ‰ï¼Œå¯èƒ½æ˜¯è·¯ç”±é…ç½®é—®é¢˜

#### é—®é¢˜3: AuthContext çŠ¶æ€æ²¡æœ‰æ›´æ–°
- æ£€æŸ¥æ˜¯å¦çœ‹åˆ° `AuthContext login called` æ—¥å¿—
- æ£€æŸ¥æ˜¯å¦çœ‹åˆ° `AuthContext: state updated` æ—¥å¿—
- å¦‚æœæ²¡æœ‰ï¼Œå¯èƒ½æ˜¯ Context æ²¡æœ‰æ­£ç¡®è¿æ¥

### 5. æ‰‹åŠ¨æµ‹è¯•å­˜å‚¨
åœ¨ Console ä¸­è¿è¡Œï¼š
```javascript
// æ£€æŸ¥ localStorage
console.log('Token:', localStorage.getItem('token'));
console.log('User:', localStorage.getItem('user'));

// æ‰‹åŠ¨æ¸…é™¤å­˜å‚¨ï¼ˆå¦‚æœéœ€è¦é‡æ–°æµ‹è¯•ï¼‰
localStorage.removeItem('token');
localStorage.removeItem('user');
```

### 6. æµ‹è¯•è·¯ç”±å¯¼èˆª
åœ¨ Console ä¸­è¿è¡Œï¼š
```javascript
// æ‰‹åŠ¨å¯¼èˆªåˆ°ç§’æ€é¡µé¢
window.location.href = '/seckill';
```

### 7. ä½¿ç”¨è°ƒè¯•å·¥å…·
- æ‰“å¼€ `debug-login.html` æ–‡ä»¶
- ä½¿ç”¨è°ƒè¯•å·¥å…·æµ‹è¯•ç™»å½•æµç¨‹
- å¯¹æ¯”è°ƒè¯•å·¥å…·å’Œå®é™…åº”ç”¨çš„è¡Œä¸ºå·®å¼‚

## å¸¸è§è§£å†³æ–¹æ¡ˆ

### è§£å†³æ–¹æ¡ˆ1: é‡å¯å¼€å‘æœåŠ¡å™¨
```bash
cd frontend
# åœæ­¢æœåŠ¡å™¨ (Ctrl+C)
npm start
```

### è§£å†³æ–¹æ¡ˆ2: æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
- æ‰“å¼€å¼€å‘è€…å·¥å…·
- å³é”®ç‚¹å‡»åˆ·æ–°æŒ‰é’®
- é€‰æ‹©"æ¸…ç©ºç¼“å­˜å¹¶ç¡¬æ€§é‡æ–°åŠ è½½"

### è§£å†³æ–¹æ¡ˆ3: æ£€æŸ¥ä¾èµ–
```bash
cd frontend
npm list react-router-dom
# å¦‚æœæ²¡æœ‰å®‰è£…ï¼Œè¿è¡Œï¼š
npm install react-router-dom@^6.20.0
```

### è§£å†³æ–¹æ¡ˆ4: æ‰‹åŠ¨æµ‹è¯•å„ä¸ªæ­¥éª¤
1. å…ˆæµ‹è¯•ç™»å½• API æ˜¯å¦æ­£å¸¸
2. å†æµ‹è¯• AuthContext æ˜¯å¦æ­£å¸¸
3. æœ€åæµ‹è¯•è·¯ç”±å¯¼èˆªæ˜¯å¦æ­£å¸¸

## é¢„æœŸç»“æœ
ç™»å½•æˆåŠŸååº”è¯¥ï¼š
1. âœ… Console æ˜¾ç¤ºç™»å½•æˆåŠŸæ—¥å¿—
2. âœ… localStorage å­˜å‚¨ token å’Œç”¨æˆ·ä¿¡æ¯
3. âœ… AuthContext çŠ¶æ€æ›´æ–°ä¸ºå·²ç™»å½•
4. âœ… è‡ªåŠ¨è·³è½¬åˆ° `/seckill` é¡µé¢
5. âœ… Header æ˜¾ç¤ºç”¨æˆ·åå’Œ"é€€å‡º"æŒ‰é’®

å¦‚æœä»¥ä¸Šä»»ä½•ä¸€æ­¥å¤±è´¥ï¼Œè¯·æŸ¥çœ‹å¯¹åº”çš„ Console é”™è¯¯ä¿¡æ¯å¹¶æŒ‰ç…§è§£å†³æ–¹æ¡ˆå¤„ç†ã€‚ 